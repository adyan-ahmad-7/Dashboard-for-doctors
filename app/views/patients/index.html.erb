<div class="p-6" data-controller="patient-form-modal">

  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-2xl font-semibold text-gray-800">Patients</h1>
      <p class="text-sm text-gray-500 mt-1">
        List of all registered patients
      </p>
    </div>
  </div>

  <!-- Table -->
  <div class="bg-white shadow-sm rounded-2xl border overflow-hidden">

    <div class="overflow-x-auto">
      <table class="min-w-full border-collapse">
        
        <!-- Table Head -->
        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Patient ID
            </th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Name
            </th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Gender
            </th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Age
            </th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Created
            </th>
            <th class="px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Actions
            </th>
          </tr>
        </thead>

        <!-- Table Body -->
        <tbody class="divide-y divide-gray-100 bg-white">

          <% @patients.each do |patient| %>
            <tr class="hover:bg-gray-50 transition">
              
              <td class="px-6 py-4 text-sm text-gray-700 font-medium">
                <%= patient.patient_id %>
              </td>

              <td class="px-6 py-4 text-sm text-gray-800">
                <%= patient.f_name %> <%= patient.l_name %>
              </td>

              <td class="px-6 py-4 text-sm text-gray-600">
                <%= patient.gender %>
              </td>

              <td class="px-6 py-4 text-sm text-gray-600">
                <%= patient.age || "-" %>
              </td>

              <td class="px-6 py-4 text-sm text-gray-500">
                <%= patient.created_at.strftime("%d %b %Y") %>
              </td>

              <td class="px-6 py-4 text-sm text-right space-x-3">
                <%= link_to "Edit",
                    edit_patient_path(patient),
                    data: { action: "click->patient-form-modal#openEdit" },
                    class: "text-indigo-600 hover:underline" %>
                <%= link_to "Delete",
                    patient_path(patient),
                    method: :delete,
                    data: { confirm: "Are you sure you want to delete this patient?" },
                    class: "text-red-600 hover:underline" %>
              </td>

            </tr>
          <% end %>

        </tbody>

      </table>
    </div>

    <!-- Empty state -->
    <% if @patients.empty? %>
      <div class="text-center py-12 text-gray-500">
        No patients found.
      </div>
    <% end %>

  </div>
</div>
